{
  "id": "openclaw-hybrid-memory",
  "kind": "memory",
  "version": "2026.2.223",
  "uiHints": {
    "embedding.apiKey": {
      "label": "OpenAI API Key",
      "sensitive": true,
      "placeholder": "sk-proj-...",
      "help": "API key for OpenAI embeddings (or use ${OPENAI_API_KEY})"
    },
    "embedding.model": {
      "label": "Embedding Model",
      "placeholder": "text-embedding-3-small",
      "help": "OpenAI embedding model to use"
    },
    "mode": {
      "label": "Configuration preset",
      "placeholder": "normal",
      "help": "essential | normal | expert | full. See CONFIGURATION-MODES.md."
    },
    "lanceDbPath": {
      "label": "LanceDB Path",
      "placeholder": "~/.openclaw/memory/lancedb",
      "advanced": true
    },
    "sqlitePath": {
      "label": "SQLite Path",
      "placeholder": "~/.openclaw/memory/facts.db",
      "advanced": true
    },
    "autoCapture": {
      "label": "Auto-Capture",
      "help": "Automatically capture important information from conversations"
    },
    "autoRecall": {
      "label": "Auto-Recall",
      "help": "Inject relevant memories (true/false or object with enabled, maxTokens, maxPerMemoryChars)"
    },
    "autoRecall.maxTokens": {
      "label": "Auto-Recall max tokens",
      "help": "Cap on total tokens injected (default 800)"
    },
    "autoRecall.maxPerMemoryChars": {
      "label": "Auto-Recall max chars per memory",
      "help": "Truncate each memory to N chars; 0 = no truncation"
    },
    "autoRecall.injectionFormat": {
      "label": "Auto-Recall injection format",
      "help": "full | short | minimal | progressive | progressive_hybrid (progressive = index; progressive_hybrid = pinned in full + rest as index)"
    },
    "autoRecall.limit": {
      "label": "Auto-Recall limit",
      "help": "Max memories to consider for injection (default 10)"
    },
    "autoRecall.minScore": {
      "label": "Auto-Recall min score",
      "help": "Vector search minimum score 0–1 (default 0.3)"
    },
    "autoRecall.preferLongTerm": {
      "label": "Auto-Recall prefer long-term",
      "help": "Boost score for permanent/stable facts so they rank higher when scores are close (default false)"
    },
    "autoRecall.useImportanceRecency": {
      "label": "Auto-Recall use importance/recency",
      "help": "Combine relevance with importance and lastConfirmedAt so more important or recently confirmed facts rank higher (default false)"
    },
    "autoRecall.entityLookup": {
      "label": "Auto-Recall entity lookup",
      "help": "When prompt mentions an entity from the list, merge lookup(entity) facts into candidates (4.1)"
    },
    "autoRecall.summaryThreshold": {
      "label": "Summary threshold (chars)",
      "help": "Facts longer than this get a summary stored; 0 = disabled (default 300)"
    },
    "autoRecall.summaryMaxChars": {
      "label": "Summary max chars",
      "help": "Length of generated summary (default 80)"
    },
    "autoRecall.useSummaryInInjection": {
      "label": "Use summary in injection",
      "help": "Inject summary instead of full text when present (default true)"
    },
    "autoRecall.summarizeWhenOverBudget": {
      "label": "Summarize when over budget",
      "help": "When token cap forces dropping memories, LLM-summarize all into 2-3 sentences (1.4)"
    },
    "autoRecall.summarizeModel": {
      "label": "Summarize model",
      "placeholder": "e.g. flash, sonnet",
      "help": "Model for summarize-when-over-budget (when unset, resolved at runtime)"
    },
    "autoRecall.progressiveMaxCandidates": {
      "label": "Progressive max candidates",
      "help": "Max memories in progressive index (default 15). Used when injectionFormat is progressive or progressive_hybrid."
    },
    "autoRecall.progressiveIndexMaxTokens": {
      "label": "Progressive index max tokens",
      "help": "Token cap for the index block in progressive mode (default: 300 when injectionFormat is progressive or progressive_hybrid)"
    },
    "autoRecall.progressiveGroupByCategory": {
      "label": "Progressive group by category",
      "help": "Group index lines by category for readability (default false)"
    },
    "autoRecall.progressivePinnedRecallCount": {
      "label": "Progressive pinned recall count",
      "help": "In progressive_hybrid: facts with recallCount >= this or permanent decay are injected in full (default 3)"
    },
    "autoRecall.authFailure.enabled": {
      "label": "Auth failure auto-recall",
      "help": "Detect authentication failures and auto-inject relevant credentials (default: true)"
    },
    "autoRecall.authFailure.patterns": {
      "label": "Auth failure patterns",
      "help": "Additional regex patterns to detect auth failures (merged with defaults). Should NOT include default patterns to avoid duplication."
    },
    "autoRecall.authFailure.maxRecallsPerTarget": {
      "label": "Max recalls per target",
      "help": "Max times to recall credentials for the same target per session. 0 = unlimited (default: 1)"
    },
    "autoRecall.authFailure.includeVaultHints": {
      "label": "Include vault hints",
      "help": "Inject credential hints even if they're stored in the vault (default: true)"
    },
    "captureMaxChars": {
      "label": "Capture max characters",
      "help": "Max characters per fact: filter in auto-capture and truncate when storing (default 5000)"
    },
    "categories": {
      "label": "Custom Categories",
      "help": "Additional memory categories beyond the defaults (preference, fact, decision, entity, other)"
    },
    "autoClassify.enabled": {
      "label": "Auto-Classify",
      "help": "Use a cheap LLM to classify 'other' facts into proper categories on capture and via CLI"
    },
    "autoClassify.model": {
      "label": "Classify Model",
      "placeholder": "e.g. flash, sonnet",
      "help": "Cheap/fast model for classification (when unset, resolved at runtime)"
    },
    "autoClassify.suggestCategories": {
      "label": "Suggest categories",
      "help": "Let LLM suggest new categories from 'other' facts; labels with ≥ minFactsForNewCategory become real categories"
    },
    "autoClassify.minFactsForNewCategory": {
      "label": "Min facts for new category",
      "help": "Minimum facts with same suggested label before creating that category (default 10); not told to the LLM"
    },
    "store.fuzzyDedupe": {
      "label": "Store fuzzy dedupe",
      "help": "Skip storing when normalized text (trim, collapse whitespace, lowercase) matches an existing fact (2.3)"
    },
    "store.classifyBeforeWrite": {
      "label": "Classify before write",
      "help": "Classify each new fact as ADD/UPDATE/DELETE/NOOP against similar facts before storing; reduces duplicates and contradictions"
    },
    "store.classifyModel": {
      "label": "Classification model",
      "placeholder": "e.g. flash, sonnet",
      "help": "Chat model for memory operation classification (when unset, resolved at runtime)"
    },
    "credentials.enabled": {
      "label": "Credentials",
      "help": "Opt-in encrypted credential store for API keys, tokens, passwords"
    },
    "credentials.encryptionKey": {
      "label": "Credentials encryption key",
      "sensitive": true,
      "placeholder": "env:OPENCLAW_CRED_KEY",
      "help": "Use env:VAR_NAME (e.g. env:OPENCLAW_CRED_KEY) or provide 16+ char secret"
    },
    "credentials.autoDetect": {
      "label": "Credential auto-detect",
      "help": "When enabled, detect API keys/tokens in conversation and prompt to store"
    },
    "credentials.expiryWarningDays": {
      "label": "Expiry warning days",
      "help": "Warn when credentials expire within this many days (default 7)"
    },
    "errorReporting.enabled": {
      "label": "Error reporting enabled",
      "help": "Send anonymous error reports to help developers prioritize bug fixes (default: false, opt-in)"
    },
    "errorReporting.consent": {
      "label": "Error reporting consent",
      "help": "Explicit user consent required for error reporting (default: false)"
    },
    "errorReporting.mode": {
      "label": "Error reporting mode",
      "help": "community (anonymous telemetry to developers) or self-hosted (your own Sentry/GlitchTip instance). Default: community"
    },
    "errorReporting.dsn": {
      "label": "Error reporting DSN",
      "sensitive": true,
      "placeholder": "https://<key>@your-instance.example/1",
      "help": "Custom DSN for self-hosted mode. Not needed for community mode."
    },
    "errorReporting.environment": {
      "label": "Error reporting environment",
      "placeholder": "production",
      "help": "Environment tag for reported errors (default: production)"
    },
    "errorReporting.sampleRate": {
      "label": "Error reporting sample rate",
      "help": "Fraction of errors to report 0–1 (default: 1.0)"
    },
    "errorReporting.botId": {
      "label": "Error reporting bot ID (UUID)",
      "placeholder": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
      "help": "Set this bot's UUID to include it in error reports (GlitchTip groups by bot). Use config-set errorReporting.botId <uuid>. Clear or omit to not send bot ID."
    },
    "errorReporting.botName": {
      "label": "Error reporting friendly name",
      "placeholder": "Maeve",
      "help": "Friendly name for this bot (e.g. Maeve, Doris); shown in GlitchTip reports. Use config-set errorReporting.botName \"Doris\"."
    },
    "wal.enabled": {
      "label": "Write-Ahead Log",
      "help": "Enable WAL for crash resilience - logs memory operations before committing (default: enabled)"
    },
    "wal.walPath": {
      "label": "WAL file path",
      "advanced": true,
      "help": "Custom path for WAL file (default: same directory as SQLite DB)"
    },
    "wal.maxAge": {
      "label": "WAL max age (ms)",
      "advanced": true,
      "help": "Maximum age of WAL entries before considered stale in milliseconds (default: 300000 = 5 minutes)"
    },
    "personaProposals.enabled": {
      "label": "Persona Proposals",
      "help": "Opt-in agent self-evolution: agents can propose changes to identity files (SOUL.md, IDENTITY.md, USER.md) with human approval gate (default: disabled)"
    },
    "personaProposals.allowedFiles": {
      "label": "Allowed identity files",
      "help": "Identity files that can be modified via proposals (default: all three)"
    },
    "personaProposals.maxProposalsPerWeek": {
      "label": "Max proposals per week",
      "help": "Rate limit to prevent proposal spam (default: 5)"
    },
    "personaProposals.minConfidence": {
      "label": "Min confidence",
      "help": "Minimum confidence score 0-1 for proposals (default: 0.7)"
    },
    "personaProposals.proposalTTLDays": {
      "label": "Proposal TTL (days)",
      "help": "Days before proposals auto-expire if not reviewed (default: 30, 0 = never)"
    },
    "personaProposals.minSessionEvidence": {
      "label": "Min session evidence",
      "help": "Minimum number of session references required (default: 10)"
    },
    "graph.enabled": {
      "label": "Graph memory",
      "help": "Enable graph-based spreading activation for zero-LLM recall"
    },
    "graph.autoLink": {
      "label": "Auto-link",
      "help": "Auto-create RELATED_TO links to similar facts when storing (default false)"
    },
    "graph.autoLinkMinScore": {
      "label": "Auto-link min score",
      "help": "Min similarity score for auto-linking (default 0.7)"
    },
    "graph.autoLinkLimit": {
      "label": "Auto-link limit",
      "help": "Max similar facts to link per storage (default 3)"
    },
    "graph.maxTraversalDepth": {
      "label": "Max traversal depth",
      "help": "Max hops for graph traversal in recall (default 2)"
    },
    "graph.useInRecall": {
      "label": "Use in recall",
      "help": "Enable graph traversal in memory_recall (default true)"
    },
    "procedures.enabled": {
      "label": "Procedural memory",
      "help": "Extract tool-call procedures from session logs, inject in recall, auto-generate skills"
    },
    "procedures.sessionsDir": {
      "label": "Session directory",
      "help": "Path to session JSONL files (default: ~/.openclaw/agents/main/sessions)"
    },
    "procedures.minSteps": {
      "label": "Min steps",
      "help": "Minimum tool steps to count as a procedure (default: 2)"
    },
    "procedures.validationThreshold": {
      "label": "Validation threshold",
      "help": "Success count before auto-generating a skill (default: 3)"
    },
    "procedures.skillTTLDays": {
      "label": "Skill TTL (days)",
      "help": "Procedure confidence TTL / revalidation window (default: 30)"
    },
    "procedures.skillsAutoPath": {
      "label": "Auto-skills path",
      "help": "Path for auto-generated skills (default: skills/auto)"
    },
    "distill.apiKey": {
      "label": "Gemini API Key (distill)",
      "sensitive": true,
      "help": "For session distillation with Gemini (1M context). Or set GOOGLE_API_KEY env."
    },
    "distill.defaultModel": {
      "label": "Distill default model",
      "placeholder": "gemini-3-pro-preview",
      "help": "Default LLM for hybrid-mem distill (recommended: gemini-3-pro-preview for 1M context and token I/O)"
    },
    "languageKeywords.autoBuild": {
      "label": "Multi-language auto-build",
      "help": "Build .language-keywords.json from memory samples (triggers, categories, correction signals). Once at startup if missing, then weekly."
    },
    "languageKeywords.weeklyIntervalDays": {
      "label": "Language keywords interval (days)",
      "help": "Days between auto-builds (1–30, default 7)"
    },
    "reflection.enabled": {
      "label": "Reflection layer",
      "help": "Synthesize behavioral patterns from facts; memory_reflect, reflect-rules"
    },
    "reflection.model": {
      "label": "Reflection model",
      "placeholder": "e.g. flash, sonnet",
      "help": "LLM for reflection analysis (when unset, resolved at runtime)"
    },
    "reflection.defaultWindow": {
      "label": "Reflection window (days)",
      "help": "Time window for fact gathering (default 14)"
    },
    "reflection.minObservations": {
      "label": "Reflection min observations",
      "help": "Min observations to support a pattern (default 2)"
    },
    "procedures.enabled": {
      "label": "Procedural memory",
      "help": "Extract tool-call procedures from session logs, inject in recall, auto-generate skills"
    },
    "procedures.sessionsDir": {
      "label": "Session directory",
      "help": "Path to session JSONL files (default: ~/.openclaw/agents/main/sessions)"
    },
    "procedures.minSteps": {
      "label": "Min steps",
      "help": "Minimum tool steps to count as a procedure (default: 2)"
    },
    "procedures.validationThreshold": {
      "label": "Validation threshold",
      "help": "Success count before auto-generating a skill (default: 3)"
    },
    "procedures.skillTTLDays": {
      "label": "Skill TTL (days)",
      "help": "Procedure confidence TTL / revalidation window (default: 30)"
    },
    "procedures.skillsAutoPath": {
      "label": "Auto-skills path",
      "help": "Path for auto-generated skills (default: skills/auto)"
    },
    "multiAgent.orchestratorId": {
      "label": "Orchestrator Agent ID",
      "placeholder": "main",
      "help": "Agent ID of the orchestrator (main agent). This agent sees all scopes. Default: 'main'."
    },
    "multiAgent.defaultStoreScope": {
      "label": "Default Store Scope",
      "placeholder": "global",
      "help": "Default scope for new facts: 'global' (all agents, backward compatible), 'agent' (specialists auto-scope), or 'auto' (orchestrator→global, specialists→agent). Default: 'global'."
    }
  },
  "configSchema": {
    "type": "object",
    "additionalProperties": true,
    "description": "Plugin config; validated at runtime by plugin. Core allows any keys to avoid strict JSON Schema rejection."
  }
}